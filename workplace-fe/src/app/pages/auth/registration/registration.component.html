<section class="registration-page">
  <div class="registration-container">
    <div class="registration-content">
      <div class="logo">
        <img alt="emetaplus-logo" class="login-logo" src="../../../assets/logo.png"/>
      </div>
      <h1 class="title" i18n="@@register-title">Sign up</h1>
      <div>
        <form [formGroup]="userForm" class="user-dialog-content">
          <mat-form-field appearance="outline">
            <mat-label i18n="@@register-email">Username (Email)</mat-label>
            <input matInput formControlName="username" (input)="isButtonDisabled()" required>
            <mat-error *ngIf="userForm.get('username')?.invalid" i18n="@@register-emailError">Please set a valid email
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label i18n="@@register-password">Password</mat-label>
            <input matInput [type]="hide ? 'password' : 'text'" (input)="isButtonDisabled()" formControlName="password"
                   required>
            <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
            <mat-error *ngIf="userForm.get('password')?.invalid" i18n="@@register-passwordError">Password must contain at least eight characters, at
              least one number and both lower and uppercase letters and special characters
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label i18n="@@register-firstName">First Name</mat-label>
            <input matInput formControlName="firstName" (input)="isButtonDisabled()" required>
            <mat-error *ngIf="userForm.get('firstName')?.invalid" i18n="@@register-firstNameError">Please set your first name</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label i18n="@@register-lastName">Last Name</mat-label>
            <input matInput formControlName="lastName" (input)="isButtonDisabled()" required>
            <mat-error *ngIf="userForm.get('lastName')?.invalid" i18n="@@register-lastNameError">Please set your last name</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label i18n="@@register-phone">Phone Number</mat-label>
            <input matInput formControlName="phone" (input)="isButtonDisabled()">
          </mat-form-field>
          <div *ngIf="showLoader">
            <loader></loader>
          </div>
          <div *ngIf="showError">
            <div class="registration-error-box">
              <p>{{errorMessage}}</p>
            </div>
          </div>
          <div class="form-group">
            <button type="submit" mat-raised-button color="primary" (click)="onSave()" [disabled]="isSaveDisabled || actionStarted" i18n="@@register-button-register">
              Register
            </button>
          </div>
        </form>
        <div class="login">
          <span class="login-link" i18n="@@register-have-an-account">Already have an account? <a routerLink='../login'>LOG IN</a></span>
        </div>
      </div>
    </div>
  </div>
</section>
